<template>
  <require from="./inspect.css"></require>
  <require from="./heatmap/heatmap"></require>
  <require from="./dashboard/dashboard"></require>
  <require from="./inspect-correlation/inspect-correlation"></require>
  <div class="inspect">

    <div show.bind="showDashboard" class="inspect__dashboard-container">
      <dashboard view-model.ref="dashboard" active-solution-entry.bind="activeSolutionEntry"></dashboard>
    </div>
    <div if.bind="showHeatmap" class="inspect__heatmap-container">
      <heatmap active-diagram.bind="activeDiagram" active-solution-entry.bind="activeSolutionEntry"></heatmap>
    </div>
    <div if.bind="showInspectCorrelation" class="inspect__inspect-correlation-container">
      <inspect-correlation active-diagram.bind="activeDiagram" active-solution-entry.bind="activeSolutionEntry" process-instance-to-select.to-view="processInstanceToSelect" flow-node-to-select.to-view="flowNodeToSelect" inspect-panel-tab-to-show.to-view="inspectPanelTabToShow"></inspect-correlation>
    </div>

    <div class="inspect-layout__tools-right">
      <div class="tool-list tool-list--vertical">
        <div if.bind="showInspectCorrelation"
             class="inspect-layout__tool"
             class.bind="tokenViewerButtonDisabled ? 'inspect-layout__tool--disabled' : showTokenViewer ? 'inspect-layout__tool--active' : ''"
             disabled.bind="tokenViewerButtonDisabled"
             title.bind="showTokenViewer ? 'Hide token viewer' : 'Show token viewer'"
             click.delegate="toggleShowTokenViewer()">
          <i class="fas fa-book"></i>
        </div>
      </div>
    </div>
  </div>
</template>
